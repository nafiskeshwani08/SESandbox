{"triggers":[],"nodes":[{"uid":"e220c4c8-dbc1-44a3-a17a-b085d7e1e655","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"e6ef1397-217c-4422-8f4d-0be5424e2bbb","commandName":"restPost","packageName":"Rest","disabled":false,"attributes":[{"name":"uriOption","value":{"type":"STRING","string":"text"}},{"name":"uri","value":{"type":"STRING","string":"https://aa-saleseng-us-4sbx.cloud.automationanywhere.digital/v1/authentication"}},{"name":"authenticationMode","value":{"type":"STRING","string":"NoAuthentication"}},{"name":"headerContentType","value":{"type":"STRING","string":"application/json"}},{"name":"parameterOption","value":{"type":"STRING","string":"text"}},{"name":"jsonPostParameters","value":{"type":"STRING","string":"{\n  \"username\": \"gael.coquelet.creator\",\n  \"password\": \"@r@?3BF3dSTqJsj9\"\n}"}},{"name":"captureFailureResponse","value":{"type":"BOOLEAN","boolean":true}},{"name":"allowInsecureConnection","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"dAnswer"}},{"uid":"d75add79-56ac-415c-a7e8-3738d449b204","commandName":"assign","packageName":"Dictionary","disabled":false,"attributes":[{"name":"sourceDictionary","value":{"type":"DICTIONARY","expression":"$dAnswer$"}}],"returnTo":{"type":"DICTIONARY","dictionary":[{"key":"Body","value":{"type":"VARIABLE","variableName":"dJsonBody"}}]}},{"uid":"dd7f67a6-490d-40e7-98c9-d9555e897096","commandName":"Initialize","packageName":"JSONHandler","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"Default"}},{"name":"jsonString","value":{"type":"STRING","expression":"$dJsonBody$"}}],"returnTo":{"type":"VARIABLE","variableName":"prompt-assignment"}},{"uid":"db5b37ad-35ed-422e-8497-17c6262923e2","commandName":"Query","packageName":"JSONHandler","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"Default"}},{"name":"jsonQuery","value":{"type":"STRING","string":"token"}}],"returnTo":{"type":"VARIABLE","variableName":"sBotAgentToken"}}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Get Token"}}]},{"uid":"f615ce55-5a74-43b6-8ca5-d131a1c6b66a","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"de730102-9b91-45dc-96c7-0ec95d3c7b70","commandName":"restPost","packageName":"Rest","disabled":false,"attributes":[{"name":"uriOption","value":{"type":"STRING","string":"text"}},{"name":"uri","value":{"type":"STRING","string":"https://aa-saleseng-us-4sbx.cloud.automationanywhere.digital/v3/automations/deploy"}},{"name":"authenticationMode","value":{"type":"STRING","string":"NoAuthentication"}},{"name":"customHeaders","value":{"type":"LIST","list":[{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"x-authorization"}},{"key":"value","value":{"type":"STRING","expression":"$sBotAgentToken$"}}]}]}},{"name":"headerContentType","value":{"type":"STRING","string":"application/json"}},{"name":"parameterOption","value":{"type":"STRING","string":"text"}},{"name":"jsonPostParameters","value":{"type":"STRING","string":"{\n    \"fileId\": \"15530\",\n    \"fileName\": \"TestMsgBox\",\n    \"botInput\": {\n        \"sResults\": {\n            \"type\": \"STRING\",\n            \"string\": \"MsgBoxAPIOK\"}\n    },\n\n\n    \"status\": \"ACTIVE\",\n    \"runElevated\": false,\n    \"rdpEnabled\": false,\n    \"setAsDefaultDevice\": false,\n    \"poolIds\": [\n        \"28\"\n    ]\n    ,\n    \"automationPriority\": \"PRIORITY_MEDIUM\",\n    \"runAsUserIds\": [\n        \"823\"\n    ]\n}\n"}},{"name":"captureFailureResponse","value":{"type":"BOOLEAN","boolean":false}},{"name":"allowInsecureConnection","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"DICTIONARY","dictionary":[{"key":"Body","value":{"type":"VARIABLE","variableName":"prompt-assignment"}}]}}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Deploy bot"}}]},{"uid":"bfd0c884-f724-4c0f-8982-461b082bcbe4","commandName":"Initialize","packageName":"JSONHandler","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"Default"}},{"name":"jsonString","value":{"type":"STRING","expression":"$prompt-assignment$"}}],"returnTo":{"type":"VARIABLE","variableName":"prompt-assignment"}},{"uid":"3af75458-06b2-4512-90c2-9ba4d66b72cc","commandName":"Query","packageName":"JSONHandler","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"Default"}},{"name":"jsonQuery","value":{"type":"STRING","string":"deploymentId"}}],"returnTo":{"type":"VARIABLE","variableName":"sdeploymentId"}},{"uid":"ed57fa01-602c-4846-93dc-60fac402d3a9","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"19a9bc4f-271d-41de-b3cc-bc46d7f0ceec","commandName":"loop.commands.start","packageName":"Loop","disabled":false,"children":[{"uid":"31d20156-0a21-4b4e-b1d9-1f026dd4b97d","commandName":"restPost","packageName":"Rest","disabled":false,"attributes":[{"name":"uriOption","value":{"type":"STRING","string":"text"}},{"name":"uri","value":{"type":"STRING","string":"https://aa-saleseng-us-4sbx.cloud.automationanywhere.digital/v2/activity/list"}},{"name":"authenticationMode","value":{"type":"STRING","string":"NoAuthentication"}},{"name":"customHeaders","value":{"type":"LIST","list":[{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"x-authorization"}},{"key":"value","value":{"type":"STRING","expression":"$sBotAgentToken$"}}]}]}},{"name":"headerContentType","value":{"type":"STRING","string":"application/json"}},{"name":"parameterOption","value":{"type":"STRING","string":"text"}},{"name":"jsonPostParameters","value":{"type":"STRING","expression":"{\n  \"filter\": {\n    \"operator\": \"eq\",\n    \"field\": \"deploymentId\",\n    \"value\": \"$sdeploymentId$\"\n  }\n}\n"}},{"name":"captureFailureResponse","value":{"type":"BOOLEAN","boolean":false}},{"name":"allowInsecureConnection","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"DICTIONARY","dictionary":[{"key":"Body","value":{"type":"VARIABLE","variableName":"prompt-assignment"}}]}},{"uid":"026b3328-0596-44f1-a268-85e6f21cb736","commandName":"Initialize","packageName":"JSONHandler","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"Default"}},{"name":"jsonString","value":{"type":"STRING","expression":"$prompt-assignment$"}}],"returnTo":{"type":"VARIABLE","variableName":"prompt-assignment"}},{"uid":"40209e21-cf48-476f-983c-18c573a88069","commandName":"Query","packageName":"JSONHandler","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"Default"}},{"name":"jsonQuery","value":{"type":"STRING","string":"list[0].status"}}],"returnTo":{"type":"VARIABLE","variableName":"sDeploymentStatus"}},{"uid":"a0671c69-1b24-4d25-9c64-a8afef211d7c","commandName":"delay","packageName":"Delay","disabled":false,"attributes":[{"name":"delayType","value":{"type":"STRING","string":"REGULAR"}},{"name":"delayTime","value":{"type":"NUMBER","number":"1"}},{"name":"timeUnit","value":{"type":"STRING","string":"SECONDS"}}]}],"attributes":[{"name":"loopType","value":{"type":"STRING","string":"WHILE"}},{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$sDeploymentStatus$"}},{"name":"operator","value":{"type":"STRING","string":"NEQ"}},{"name":"value","value":{"type":"STRING","string":"COMPLETED"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":true}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}},{"name":"checkConditionAtEnd","value":{"type":"BOOLEAN","boolean":false}}]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Check deployment status until COMPLETED"}}]},{"uid":"798efc96-476d-4179-a0f2-65ae3858ba41","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"d5f0d333-385a-4cb7-a05d-62d8bbe5b8e1","commandName":"Query","packageName":"JSONHandler","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"Default"}},{"name":"jsonQuery","value":{"type":"STRING","string":"list[0].botOutVariables.values.sResults.string"}}],"returnTo":{"type":"VARIABLE","variableName":"sDeploymentOutPut"}},{"uid":"edef6f9a-2973-4a48-b753-4880984cce9f","commandName":"messageBox","packageName":"MessageBox","disabled":false,"attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","expression":"Output: $sDeploymentOutPut$"}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":false}}]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Get Output"}}]},{"uid":"ff952aec-8217-4cf2-9622-9799c8c4619c","commandName":"messageBox","packageName":"MessageBox","disabled":false,"attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","expression":"$sDeploymentStatus$"}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":false}}]}],"variables":[{"name":"prompt-assignment","description":"A variable you can use for assignments","type":"STRING","subtype":"UNDEFINED","readOnly":false,"input":false,"output":false},{"name":"sMailPwd","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":"4MRCgfgKzoTErMo"}},{"name":"sBotAgentToken","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}},{"name":"sOutput","description":"","type":"DICTIONARY","readOnly":false,"input":false,"output":false,"subtype":"STRING","defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"dAnswer","description":"","type":"DICTIONARY","readOnly":false,"input":false,"output":false,"subtype":"STRING","defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"Body","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":"sJsonBody"}},{"name":"dJsonBody","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"sdeploymentId","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"sDeploymentStatus","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}},{"name":"sDeploymentOutPut","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}}],"breakpoints":["ff952aec-8217-4cf2-9622-9799c8c4619c"],"packages":[{"name":"Delay","version":"3.2.0-20211011-141700"},{"name":"Dictionary","version":"3.4.0-20211011-141701"},{"name":"JSONHandler","version":"1.0.9-20200423-090902"},{"name":"Loop","version":"3.1.0-20211011-141812"},{"name":"MessageBox","version":"3.1.0-20211011-141813"},{"name":"Rest","version":"3.6.0-20211008-042948"},{"name":"Step","version":"2.1.0-20211016-070304"},{"name":"String","version":"5.0.0-20211011-142159"}],"migrationJournalReviewIds":[],"workItemTemplateName":null,"properties":{"botCodeVersion":"2","improvedNumberSupport":true,"timeout":"0s","automationPriority":"PRIORITY_MEDIUM"}}
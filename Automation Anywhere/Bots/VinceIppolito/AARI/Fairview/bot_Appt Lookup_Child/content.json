{"triggers":[],"nodes":[{"uid":"ac44c570-eb1f-4470-9dc0-0d96f0b59c09","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"14608aeb-5a86-494b-8705-afb3a9bd9fce","commandName":"JWT_Token_Generate","packageName":"EPIC","disabled":false,"attributes":[{"name":"filepath","value":{"type":"STRING","expression":"$sFilePathPEM$"}},{"name":"issuer","value":{"type":"STRING","expression":"$sISS$"}},{"name":"subject","value":{"type":"STRING","expression":"$sSub$"}},{"name":"audience","value":{"type":"STRING","expression":"$sAud$"}}],"returnTo":{"type":"VARIABLE","variableName":"sJWT"}},{"uid":"bc98171d-d82d-4c4b-b42c-d6435755db61","commandName":"AccessToken","packageName":"EPIC","disabled":false,"attributes":[{"name":"jwtToken","value":{"type":"STRING","expression":"$sJWT$"}}],"returnTo":{"type":"VARIABLE","variableName":"sAccessToken"}}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Authorization"}}]},{"uid":"e8658506-9d32-4cb0-8e7d-17fcb7b4a219","commandName":"toString","packageName":"Datetime","disabled":false,"attributes":[{"name":"source","value":{"type":"VARIABLE","variableName":"dRequestedDate"}},{"name":"selectPattern","value":{"type":"STRING","string":"CUSTOM"}},{"name":"patternInput","value":{"type":"STRING","string":"yyyy-MM-dd"}}],"returnTo":{"type":"VARIABLE","variableName":"sRequestedDate"}},{"uid":"23de0311-1604-4861-9ace-593bd12232f1","commandName":"length","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$sRequestedTime$"}}],"returnTo":{"type":"VARIABLE","variableName":"nRequestedTimeLength"}},{"uid":"ce9bad7f-9abd-41ba-8a88-9fee9d871d68","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"adb2297f-7391-420a-9975-8f23397bda4b","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"0$sRequestedTime$"}}],"returnTo":{"type":"VARIABLE","variableName":"sRequestedTime"}}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"NUMBER","expression":"$nRequestedTimeLength$"}},{"name":"operator","value":{"type":"STRING","string":"EQ"}},{"name":"value","value":{"type":"NUMBER","number":"4"}}],"value":{"type":"CONDITIONAL","conditionalName":"numberVariable","packageName":"Number"}}]},{"uid":"2fd75dfa-c4b8-424a-9d12-909de9547297","commandName":"trim","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"{    \"resourceType\": \"Parameters\",    \"parameter\": [        {            \"name\": \"startTime\",            \"valueDateTime\": \"$sRequestedDate$T$sRequestedTime$:00Z\"        }   ]}"}},{"name":"trimAtBeginning","value":{"type":"BOOLEAN","boolean":false}},{"name":"trimAtEnd","value":{"type":"BOOLEAN","boolean":true}}],"returnTo":{"type":"VARIABLE","variableName":"sRequestBodyJSON"}},{"uid":"65758f45-7b4f-4c40-a1c8-d666c7173fd2","commandName":"restPost","packageName":"Rest","disabled":false,"attributes":[{"name":"uriOption","value":{"type":"STRING","string":"text"}},{"name":"uri","value":{"type":"STRING","string":"https://fhir.epic.com/interconnect-fhir-oauth/api/FHIR/STU3/Appointment/$find?"}},{"name":"authenticationMode","value":{"type":"STRING","string":"NoAuthentication"}},{"name":"customHeaders","value":{"type":"LIST","list":[{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"Accept"}},{"key":"value","value":{"type":"STRING","string":"application/json+fhir"}}]},{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"authorization"}},{"key":"value","value":{"type":"STRING","expression":"Bearer $sAccessToken$"}}]}]}},{"name":"headerContentType","value":{"type":"STRING","string":"application/json"}},{"name":"parameterOption","value":{"type":"STRING","string":"text"}},{"name":"jsonPostParameters","value":{"type":"STRING","expression":"$sRequestBodyJSON$"}},{"name":"captureFailureResponse","value":{"type":"BOOLEAN","boolean":false}},{"name":"allowInsecureConnection","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"DICTIONARY","dictionary":[{"key":"Body","value":{"type":"VARIABLE","variableName":"sAppointmentJSON"}}]}},{"uid":"373e59e9-9bf0-4574-91e5-65cea65bff3e","commandName":"Initialize","packageName":"JSONHandler","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"Default"}},{"name":"jsonString","value":{"type":"STRING","expression":"$sAppointmentJSON$"}}],"returnTo":{"type":"VARIABLE","variableName":"sErrorCode"}},{"uid":"4e5bc8a5-9dea-4f93-b547-3f71b1576afc","commandName":"Query","packageName":"JSONHandler","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"Default"}},{"name":"jsonQuery","value":{"type":"STRING","string":"total"}}],"returnTo":{"type":"VARIABLE","variableName":"sTotalApptCount"}},{"uid":"48340315-b688-4db0-9079-625c6a2a28d7","commandName":"toNumber","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$sTotalApptCount$"}}],"returnTo":{"type":"VARIABLE","variableName":"nTotalApptCount"}},{"uid":"390324d3-8f41-492b-ac89-d35834971148","commandName":"loop.commands.start","packageName":"Loop","disabled":false,"children":[{"uid":"f330a407-3842-40df-baec-77c3e9637915","commandName":"toString","packageName":"Number","disabled":false,"attributes":[{"name":"input","value":{"type":"NUMBER","expression":"$nCount$"}},{"name":"numFormatDigits","value":{"type":"NUMBER","number":"0"}}],"returnTo":{"type":"VARIABLE","variableName":"sCount"}},{"uid":"08db407f-0d5c-47b4-bf4c-722b5fc71685","commandName":"increment","packageName":"Number","disabled":false,"attributes":[{"name":"source","value":{"type":"NUMBER","expression":"$nCount$"}},{"name":"by","value":{"type":"NUMBER","number":"1"}}],"returnTo":{"type":"VARIABLE","variableName":"nCount"}},{"uid":"64b12b62-8ea7-4407-9c30-e18a41d70725","commandName":"toString","packageName":"Number","disabled":false,"attributes":[{"name":"input","value":{"type":"NUMBER","expression":"$nCount$"}},{"name":"numFormatDigits","value":{"type":"NUMBER","number":"0"}}],"returnTo":{"type":"VARIABLE","variableName":"sCountList"}},{"uid":"be74ba2b-b928-4f2c-81e6-8def23a32629","commandName":"Query","packageName":"JSONHandler","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"Default"}},{"name":"jsonQuery","value":{"type":"STRING","expression":"entry[$sCount$].resource.id"}}],"returnTo":{"type":"VARIABLE","variableName":"sApptID"}},{"uid":"83068e4b-daa9-4d8e-a622-5108ee9a1c3f","commandName":"Query","packageName":"JSONHandler","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"Default"}},{"name":"jsonQuery","value":{"type":"STRING","expression":"entry[$sCount$].resource.start"}}],"returnTo":{"type":"VARIABLE","variableName":"sStartDateTime"}},{"uid":"acec853c-f66d-4e16-9e52-b718d1c19e54","commandName":"Query","packageName":"JSONHandler","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"Default"}},{"name":"jsonQuery","value":{"type":"STRING","expression":"entry[$sCount$].resource.minutesDuration"}}],"returnTo":{"type":"VARIABLE","variableName":"sDuration"}},{"uid":"3a1a1853-022f-4f91-8c6e-25868d94848a","commandName":"beforeAfter","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$sStartDateTime$"}},{"name":"getCharacters","value":{"type":"STRING","string":"BEFOREAFTER"}},{"name":"beforeStringInBeforeAfter","value":{"type":"STRING","string":"T"}},{"name":"beforeOccurrenceInBeforeAfter","value":{"type":"NUMBER","number":"1"}},{"name":"beforeAfterCondition","value":{"type":"STRING","string":"AND"}},{"name":"afterStringInBeforeAfter","value":{"type":"STRING","string":":"}},{"name":"afterOccurrenceInBeforeAfter","value":{"type":"NUMBER","number":"2"}},{"name":"ifNoMatchFound","value":{"type":"STRING","string":"EMPTY"}},{"name":"noOfCharsToGet","value":{"type":"STRING","string":"ALL"}},{"name":"trimSpaces","value":{"type":"BOOLEAN","boolean":true}},{"name":"removeEnter","value":{"type":"BOOLEAN","boolean":true}}],"returnTo":{"type":"VARIABLE","variableName":"sStartTime"}},{"uid":"340a7863-8757-462b-9aa1-32a201c04546","commandName":"beforeAfter","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$sStartDateTime$"}},{"name":"getCharacters","value":{"type":"STRING","string":"AFTER"}},{"name":"afterString","value":{"type":"STRING","string":"T"}},{"name":"afterOccurrence","value":{"type":"NUMBER","number":"1"}},{"name":"ifNoMatchFound","value":{"type":"STRING","string":"EMPTY"}},{"name":"noOfCharsToGet","value":{"type":"STRING","string":"ALL"}},{"name":"trimSpaces","value":{"type":"BOOLEAN","boolean":true}},{"name":"removeEnter","value":{"type":"BOOLEAN","boolean":true}}],"returnTo":{"type":"VARIABLE","variableName":"sStartDate"}},{"uid":"ee1137fe-583b-4c1a-b8f1-e6f28ef4a6a3","commandName":"assign","packageName":"Datetime","disabled":false,"attributes":[{"name":"option","value":{"type":"STRING","string":"constant"}},{"name":"source","value":{"type":"STRING","expression":"$sStartDate$"}},{"name":"formatType","value":{"type":"STRING","string":"preBuilt"}},{"name":"preBuiltFormat","value":{"type":"STRING","string":"ISO_LOCAL_DATE"}}],"returnTo":{"type":"VARIABLE","variableName":"dStartDate"}},{"uid":"06dcfe13-f1a0-41b3-948c-0accc8362b94","commandName":"toString","packageName":"Datetime","disabled":false,"attributes":[{"name":"source","value":{"type":"VARIABLE","variableName":"dStartDate"}},{"name":"selectPattern","value":{"type":"STRING","string":"CUSTOM"}},{"name":"patternInput","value":{"type":"STRING","string":"EEE dd MMM yyyy"}}],"returnTo":{"type":"VARIABLE","variableName":"sStartDateFormated"}},{"uid":"a59c043f-da8b-4591-836d-5038f77cd12b","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$sCountList$. $sStartDateFormated$ at $sStartTime$ for $sDuration$ min"}}],"returnTo":{"type":"VARIABLE","variableName":"sEveryApptSlot"}},{"uid":"b3b32ccf-314c-4c64-a881-88f44e76c24d","commandName":"addItem","packageName":"List","disabled":false,"attributes":[{"name":"sourceList","value":{"type":"VARIABLE","variableName":"lApptID"}},{"name":"listItem","value":{"type":"VARIABLE","variableName":"sApptID"}},{"name":"itemPosition","value":{"type":"STRING","string":"END"}}]},{"uid":"afe2e701-d081-4e20-91b8-36d8568e24c5","commandName":"addItem","packageName":"List","disabled":false,"attributes":[{"name":"sourceList","value":{"type":"VARIABLE","variableName":"lApptDescription"}},{"name":"listItem","value":{"type":"VARIABLE","variableName":"sEveryApptSlot"}},{"name":"itemPosition","value":{"type":"STRING","string":"END"}}]}],"attributes":[{"name":"loopType","value":{"type":"STRING","string":"ITERATOR"}},{"name":"iterator","attributes":[{"name":"times","value":{"type":"NUMBER","expression":"$nTotalApptCount$"}}],"value":{"type":"ITERATOR","iteratorName":"loop.iterators.times","packageName":"Loop"}}]},{"uid":"b921acec-d60a-48e0-bf1b-6f8cbfddeb80","commandName":"messageBox","packageName":"MessageBox","disabled":true,"attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","expression":"Appointment ID is $sApptID$\n\nAppointment starts at $sStartTime$ on $sStartDate$ and is scheduled for $sDuration$ minutes."}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":false}}]}],"variables":[{"name":"prompt-assignment","description":"A variable you can use for assignments","type":"STRING","subtype":"UNDEFINED","readOnly":false,"input":false,"output":false},{"name":"sFilePathPEM","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":"C:\\Users\\Vincent.Ippolito\\OneDrive - Automation Anywhere Software Private Limited\\Documents\\Healthcare\\Epic Bot\\New Credentials\\privatekey.pem"}},{"name":"sISS","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":"778d0c5e-9e3a-4be4-8223-bf3e1171792b"}},{"name":"sSub","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":"778d0c5e-9e3a-4be4-8223-bf3e1171792b"}},{"name":"sAud","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":"https://fhir.epic.com/interconnect-fhir-oauth/oauth2/token"}},{"name":"sJWT","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"sAccessToken","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"sDerrickLinJSON","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"accessToken","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"sLastName","description":"","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":"Lin"}},{"name":"sFirstName","description":"","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":"Derrick"}},{"name":"sDateOfBirth","description":"","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":"1973-06-03"}},{"name":"sErrorCode","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}},{"name":"sPatientID","description":"","type":"STRING","readOnly":false,"input":false,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"sPatientJSON","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"sAppointmentJSON","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"sApptID","description":"","type":"STRING","readOnly":false,"input":false,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"sStartDateTime","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"sDuration","description":"","type":"STRING","readOnly":false,"input":false,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"sStartTime","description":"","type":"STRING","readOnly":false,"input":false,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"sRequestBodyJSON","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}},{"name":"sRequestedDate","description":"","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":"2021-12-13"}},{"name":"sRequestedTime","description":"","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":"9:00"}},{"name":"sStartDate","description":"","type":"STRING","readOnly":false,"input":false,"output":true,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}},{"name":"nCount","description":"","type":"NUMBER","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"NUMBER","number":"0"}},{"name":"sCount","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}},{"name":"sTotalApptCount","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}},{"name":"nTotalApptCount","description":"","type":"NUMBER","readOnly":false,"input":false,"output":false,"subtype":"UNDEFINED","defaultValue":{"type":"NUMBER","number":"0"}},{"name":"sEveryApptSlot","description":"","type":"STRING","readOnly":false,"input":false,"output":true,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}},{"name":"dStartDate","description":"","type":"DATETIME","readOnly":false,"input":false,"output":false,"subtype":"UNDEFINED","defaultValue":{"type":"DATETIME","string":""}},{"name":"sStartDateFormated","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}},{"name":"nRequestedTimeLength","description":"","type":"NUMBER","readOnly":false,"input":false,"output":false,"subtype":"UNDEFINED","defaultValue":{"type":"NUMBER","number":"0"}},{"name":"lApptID","description":"","type":"LIST","readOnly":false,"input":false,"output":true,"subtype":"STRING","defaultValue":{"type":"LIST","list":[]}},{"name":"sCountList","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}},{"name":"dRequestedDate","description":"","type":"DATETIME","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"DATETIME","string":""}},{"name":"lApptDescription","description":"","type":"LIST","readOnly":false,"input":false,"output":true,"defaultValue":{"type":"LIST","list":[]}}],"breakpoints":["afe2e701-d081-4e20-91b8-36d8568e24c5","b921acec-d60a-48e0-bf1b-6f8cbfddeb80"],"packages":[{"name":"Datetime","version":"2.2.0-20210722-143808"},{"name":"EPIC","version":"2.0.5-20210516-115521"},{"name":"If","version":"3.0.0-20210722-143856"},{"name":"JSONHandler","version":"1.2-20200521-104916"},{"name":"List","version":"2.4.0-20210722-144333"},{"name":"Loop","version":"3.0.0-20210722-144335"},{"name":"MessageBox","version":"3.0.0-20210722-144335"},{"name":"Number","version":"3.1.1-20210821-042642"},{"name":"Rest","version":"3.5.0-20210722-144731"},{"name":"Step","version":"2.0.2-20210716-100543"},{"name":"String","version":"4.3.0-20210722-144812"}],"migrationJournalReviewIds":[],"workItemTemplateName":null,"properties":{"botCodeVersion":"2","improvedNumberSupport":true,"timeout":"0s","automationPriority":"PRIORITY_MEDIUM"}}
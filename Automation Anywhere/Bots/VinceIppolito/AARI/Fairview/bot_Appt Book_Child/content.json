{"triggers":[],"nodes":[{"uid":"ac44c570-eb1f-4470-9dc0-0d96f0b59c09","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"14608aeb-5a86-494b-8705-afb3a9bd9fce","commandName":"JWT_Token_Generate","packageName":"EPIC","disabled":false,"attributes":[{"name":"filepath","value":{"type":"STRING","expression":"$sFilePathPEM$"}},{"name":"issuer","value":{"type":"STRING","expression":"$sISS$"}},{"name":"subject","value":{"type":"STRING","expression":"$sSub$"}},{"name":"audience","value":{"type":"STRING","expression":"$sAud$"}}],"returnTo":{"type":"VARIABLE","variableName":"sJWT"}},{"uid":"bc98171d-d82d-4c4b-b42c-d6435755db61","commandName":"AccessToken","packageName":"EPIC","disabled":false,"attributes":[{"name":"jwtToken","value":{"type":"STRING","expression":"$sJWT$"}}],"returnTo":{"type":"VARIABLE","variableName":"sAccessToken"}}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Authorization"}}]},{"uid":"2fd75dfa-c4b8-424a-9d12-909de9547297","commandName":"trim","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"{\"resourceType\": \"Parameters\",\"parameter\": [{\"name\": \"patient\",\"valueIdentifier\": {\"value\": \"$sPatientID$\"}},{\"name\": \"appointment\",\"valueIdentifier\": {\"value\": \"$sApptID$\"}}]}"}},{"name":"trimAtBeginning","value":{"type":"BOOLEAN","boolean":false}},{"name":"trimAtEnd","value":{"type":"BOOLEAN","boolean":true}}],"returnTo":{"type":"VARIABLE","variableName":"sRequestBodyJSON"}},{"uid":"65758f45-7b4f-4c40-a1c8-d666c7173fd2","commandName":"restPost","packageName":"Rest","disabled":false,"attributes":[{"name":"uriOption","value":{"type":"STRING","string":"text"}},{"name":"uri","value":{"type":"STRING","string":"https://fhir.epic.com/interconnect-fhir-oauth/api/FHIR/STU3/Appointment/$book"}},{"name":"authenticationMode","value":{"type":"STRING","string":"NoAuthentication"}},{"name":"customHeaders","value":{"type":"LIST","list":[{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"Accept"}},{"key":"value","value":{"type":"STRING","string":"application/json+fhir"}}]},{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"authorization"}},{"key":"value","value":{"type":"STRING","expression":"Bearer $sAccessToken$"}}]}]}},{"name":"headerContentType","value":{"type":"STRING","string":"application/json"}},{"name":"parameterOption","value":{"type":"STRING","string":"text"}},{"name":"jsonPostParameters","value":{"type":"STRING","expression":"$sRequestBodyJSON$"}},{"name":"captureFailureResponse","value":{"type":"BOOLEAN","boolean":false}},{"name":"allowInsecureConnection","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"DICTIONARY","dictionary":[{"key":"Body","value":{"type":"VARIABLE","variableName":"sAppointmentJSON"}}]}},{"uid":"373e59e9-9bf0-4574-91e5-65cea65bff3e","commandName":"Initialize","packageName":"JSONHandler","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"Default"}},{"name":"jsonString","value":{"type":"STRING","expression":"$sAppointmentJSON$"}}],"returnTo":{"type":"VARIABLE","variableName":"sErrorCode"}},{"uid":"be74ba2b-b928-4f2c-81e6-8def23a32629","commandName":"Query","packageName":"JSONHandler","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"Default"}},{"name":"jsonQuery","value":{"type":"STRING","string":"entry[0].resource.id"}}],"returnTo":{"type":"VARIABLE","variableName":"sApptIDOut"}},{"uid":"83068e4b-daa9-4d8e-a622-5108ee9a1c3f","commandName":"Query","packageName":"JSONHandler","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"Default"}},{"name":"jsonQuery","value":{"type":"STRING","string":"entry[0].resource.status"}}],"returnTo":{"type":"VARIABLE","variableName":"sApptStatus"}},{"uid":"5cc080ed-25df-4a34-ae3f-f6a41ca530b9","commandName":"Query","packageName":"JSONHandler","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"Default"}},{"name":"jsonQuery","value":{"type":"STRING","string":"entry[0].resource.start"}}],"returnTo":{"type":"VARIABLE","variableName":"sApptStart"}},{"uid":"540baed9-ac90-4bff-a073-03d4869b223d","commandName":"beforeAfter","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$sApptStart$"}},{"name":"getCharacters","value":{"type":"STRING","string":"BEFOREAFTER"}},{"name":"beforeStringInBeforeAfter","value":{"type":"STRING","string":"T"}},{"name":"beforeOccurrenceInBeforeAfter","value":{"type":"NUMBER","number":"1"}},{"name":"beforeAfterCondition","value":{"type":"STRING","string":"AND"}},{"name":"afterStringInBeforeAfter","value":{"type":"STRING","string":":"}},{"name":"afterOccurrenceInBeforeAfter","value":{"type":"NUMBER","number":"2"}},{"name":"ifNoMatchFound","value":{"type":"STRING","string":"EMPTY"}},{"name":"noOfCharsToGet","value":{"type":"STRING","string":"ALL"}},{"name":"trimSpaces","value":{"type":"BOOLEAN","boolean":true}},{"name":"removeEnter","value":{"type":"BOOLEAN","boolean":true}}],"returnTo":{"type":"VARIABLE","variableName":"sStartTimeOut"}},{"uid":"1ac50926-3c1c-40fd-bb9a-715e7d895746","commandName":"beforeAfter","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$sApptStart$"}},{"name":"getCharacters","value":{"type":"STRING","string":"AFTER"}},{"name":"afterString","value":{"type":"STRING","string":"T"}},{"name":"afterOccurrence","value":{"type":"NUMBER","number":"1"}},{"name":"ifNoMatchFound","value":{"type":"STRING","string":"EMPTY"}},{"name":"noOfCharsToGet","value":{"type":"STRING","string":"ALL"}},{"name":"trimSpaces","value":{"type":"BOOLEAN","boolean":true}},{"name":"removeEnter","value":{"type":"BOOLEAN","boolean":true}}],"returnTo":{"type":"VARIABLE","variableName":"sApptStart"}},{"uid":"8f75b2cb-aeeb-431f-929f-a311df47d1d2","commandName":"assign","packageName":"Datetime","disabled":false,"attributes":[{"name":"option","value":{"type":"STRING","string":"constant"}},{"name":"source","value":{"type":"STRING","expression":"$sApptStart$"}},{"name":"formatType","value":{"type":"STRING","string":"custom"}},{"name":"customFormat","value":{"type":"STRING","string":"yyyy-MM-dd"}}],"returnTo":{"type":"VARIABLE","variableName":"dApptStartTime"}},{"uid":"b921acec-d60a-48e0-bf1b-6f8cbfddeb80","commandName":"messageBox","packageName":"MessageBox","disabled":true,"attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","expression":"Appointment ID is $sApptID$\n\nAppointment starts at $sStartTime$ on $sStartDate$ and is scheduled for $sDuration$ minutes."}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":false}}]}],"variables":[{"name":"prompt-assignment","description":"A variable you can use for assignments","type":"STRING","subtype":"UNDEFINED","readOnly":false,"input":false,"output":false},{"name":"sFilePathPEM","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":"C:\\Users\\Vincent.Ippolito\\OneDrive - Automation Anywhere Software Private Limited\\Documents\\Healthcare\\Epic Bot\\New Credentials\\privatekey.pem"}},{"name":"sISS","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":"778d0c5e-9e3a-4be4-8223-bf3e1171792b"}},{"name":"sSub","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":"778d0c5e-9e3a-4be4-8223-bf3e1171792b"}},{"name":"sAud","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":"https://fhir.epic.com/interconnect-fhir-oauth/oauth2/token"}},{"name":"sJWT","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"sAccessToken","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"sDerrickLinJSON","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"accessToken","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"sLastName","description":"","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":"Lin"}},{"name":"sFirstName","description":"","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":"Derrick"}},{"name":"sDateOfBirth","description":"","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":"1973-06-03"}},{"name":"sErrorCode","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}},{"name":"sPatientID","description":"","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":"eq081-VQEgP8drUUqCWzHfw3"}},{"name":"sPatientJSON","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"sAppointmentJSON","description":"","type":"STRING","readOnly":false,"input":false,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"sApptID","description":"","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":"eKaxJ2IUFWJ.I3jRHbwBBQwyZitT2WGVjG26uZDJarNOr4EPDAJ7Zwb-.rotejqAMRr4qN7udzOVzdldOvMpPKg3"}},{"name":"sStartDateTime","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"sDuration","description":"","type":"STRING","readOnly":false,"input":false,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"sStartTime","description":"","type":"STRING","readOnly":false,"input":false,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"sRequestBodyJSON","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}},{"name":"sRequestedDate","description":"","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":"2021-12-13"}},{"name":"sRequestedTime","description":"","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":"9:00"}},{"name":"sStartDate","description":"","type":"STRING","readOnly":false,"input":false,"output":true,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}},{"name":"nCount","description":"","type":"NUMBER","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"NUMBER","number":"0"}},{"name":"sCount","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}},{"name":"sTotalApptCount","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}},{"name":"nTotalApptCount","description":"","type":"NUMBER","readOnly":false,"input":false,"output":false,"subtype":"UNDEFINED","defaultValue":{"type":"NUMBER","number":"0"}},{"name":"sEveryApptSlot","description":"","type":"STRING","readOnly":false,"input":false,"output":true,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}},{"name":"dStartDate","description":"","type":"DATETIME","readOnly":false,"input":false,"output":false,"subtype":"UNDEFINED","defaultValue":{"type":"DATETIME","string":""}},{"name":"sStartDateFormated","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}},{"name":"nRequestedTimeLength","description":"","type":"NUMBER","readOnly":false,"input":false,"output":false,"subtype":"UNDEFINED","defaultValue":{"type":"NUMBER","number":"0"}},{"name":"sApptStatus","description":"","type":"STRING","readOnly":false,"input":false,"output":true,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}},{"name":"sApptIDOut","description":"","type":"STRING","readOnly":false,"input":false,"output":true,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}},{"name":"sApptStart","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}},{"name":"dApptStartTime","description":"","type":"DATETIME","readOnly":false,"input":false,"output":true,"subtype":"UNDEFINED","defaultValue":{"type":"DATETIME","string":""}},{"name":"sStartTimeOut","description":"","type":"STRING","readOnly":false,"input":false,"output":true,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}}],"breakpoints":["65758f45-7b4f-4c40-a1c8-d666c7173fd2","83068e4b-daa9-4d8e-a622-5108ee9a1c3f","b921acec-d60a-48e0-bf1b-6f8cbfddeb80"],"packages":[{"name":"Datetime","version":"2.2.0-20210722-143808"},{"name":"EPIC","version":"2.0.5-20210516-115521"},{"name":"JSONHandler","version":"1.2-20200521-104916"},{"name":"MessageBox","version":"3.0.0-20210722-144335"},{"name":"Rest","version":"3.5.0-20210722-144731"},{"name":"Step","version":"2.0.2-20210716-100543"},{"name":"String","version":"4.3.0-20210722-144812"}],"migrationJournalReviewIds":[],"workItemTemplateName":null,"properties":{"botCodeVersion":"2","improvedNumberSupport":true,"timeout":"0s","automationPriority":"PRIORITY_MEDIUM"}}
{"triggers":[],"nodes":[{"uid":"14608aeb-5a86-494b-8705-afb3a9bd9fce","commandName":"JWT_Token_Generate","packageName":"EPIC","disabled":false,"attributes":[{"name":"filepath","value":{"type":"STRING","expression":"$sFilePathPEM$"}},{"name":"issuer","value":{"type":"STRING","expression":"$sISS$"}},{"name":"subject","value":{"type":"STRING","expression":"$sSub$"}},{"name":"audience","value":{"type":"STRING","expression":"$sAud$"}}],"returnTo":{"type":"VARIABLE","variableName":"sJWT"}},{"uid":"bc98171d-d82d-4c4b-b42c-d6435755db61","commandName":"AccessToken","packageName":"EPIC","disabled":false,"attributes":[{"name":"jwtToken","value":{"type":"STRING","expression":"$sJWT$"}}],"returnTo":{"type":"VARIABLE","variableName":"sAccessToken"}},{"uid":"13857b1c-bd67-4ce9-99ae-96f0c50bc063","commandName":"restGet","packageName":"Rest","disabled":false,"attributes":[{"name":"uriOption","value":{"type":"STRING","string":"text"}},{"name":"uri","value":{"type":"STRING","expression":"https://fhir.epic.com/interconnect-fhir-oauth/api/FHIR/R4/Patient?given=$sFirstName$&family=$sLastName$&birthdate=$sDateOfBirth$"}},{"name":"authenticationMode","value":{"type":"STRING","string":"NoAuthentication"}},{"name":"customHeaders","value":{"type":"LIST","list":[{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"Authorization"}},{"key":"value","value":{"type":"STRING","expression":"Bearer $sAccessToken$"}}]},{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"Accept"}},{"key":"value","value":{"type":"STRING","string":"application/json+fhir"}}]}]}},{"name":"captureFailureResponse","value":{"type":"BOOLEAN","boolean":false}},{"name":"allowInsecureConnection","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"DICTIONARY","dictionary":[{"key":"Body","value":{"type":"VARIABLE","variableName":"sPatientJSON"}}]}},{"uid":"373e59e9-9bf0-4574-91e5-65cea65bff3e","commandName":"Initialize","packageName":"JSONHandler","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"Default"}},{"name":"jsonString","value":{"type":"STRING","expression":"$sPatientJSON$"}}],"returnTo":{"type":"VARIABLE","variableName":"sErrorCode"}},{"uid":"be74ba2b-b928-4f2c-81e6-8def23a32629","commandName":"Query","packageName":"JSONHandler","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"Default"}},{"name":"jsonQuery","value":{"type":"STRING","string":"entry[0].resource.id"}}],"returnTo":{"type":"VARIABLE","variableName":"sPatientID"}},{"uid":"8cbb2034-1fdb-4196-a1a8-6c3135b2775c","commandName":"Query","packageName":"JSONHandler","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"Default"}},{"name":"jsonQuery","value":{"type":"STRING","string":"entry[0].resource.identifier[1].value"}}],"returnTo":{"type":"VARIABLE","variableName":"sPatientMRN"}},{"uid":"fad95156-2c50-45d4-877a-4b9b59e6c495","commandName":"Query","packageName":"JSONHandler","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"Default"}},{"name":"jsonQuery","value":{"type":"STRING","string":"entry[0].resource.address[1].line[0]"}}],"returnTo":{"type":"VARIABLE","variableName":"sAddressLine"}},{"uid":"4e8b4569-aa88-45b6-84da-11458052e786","commandName":"Query","packageName":"JSONHandler","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"Default"}},{"name":"jsonQuery","value":{"type":"STRING","string":"entry[0].resource.address[0].city"}}],"returnTo":{"type":"VARIABLE","variableName":"sAddressCity"}},{"uid":"7f92dba0-0cc7-414c-91ff-680c07710c53","commandName":"Query","packageName":"JSONHandler","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"Default"}},{"name":"jsonQuery","value":{"type":"STRING","string":"entry[0].resource.address[0].state"}}],"returnTo":{"type":"VARIABLE","variableName":"sAddressState"}},{"uid":"cfef8916-978a-4fa9-80e2-aeeabca46d98","commandName":"Query","packageName":"JSONHandler","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"Default"}},{"name":"jsonQuery","value":{"type":"STRING","string":"entry[0].resource.address[0].postalCode"}}],"returnTo":{"type":"VARIABLE","variableName":"sAddressPostalCode"}},{"uid":"1728faec-854c-45af-af12-86d2d626ff74","commandName":"Query","packageName":"JSONHandler","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"Default"}},{"name":"jsonQuery","value":{"type":"STRING","string":"entry[0].resource.telecom[0].value"}}],"returnTo":{"type":"VARIABLE","variableName":"sPhoneNumber"}},{"uid":"e75c33ef-42bf-4bd4-9cbe-1f415a5b98c8","commandName":"Query","packageName":"JSONHandler","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"Default"}},{"name":"jsonQuery","value":{"type":"STRING","string":"entry[0].resource.generalPractitioner[0].display"}}],"returnTo":{"type":"VARIABLE","variableName":"sGeneralPractitioner"}},{"uid":"770d8b62-5d2a-4cfe-902f-f9d88c93d001","commandName":"Query","packageName":"JSONHandler","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"Default"}},{"name":"jsonQuery","value":{"type":"STRING","string":"entry[0].resource.managingOrganization[0].display"}}],"returnTo":{"type":"VARIABLE","variableName":"sManagingOrganization"}},{"uid":"b921acec-d60a-48e0-bf1b-6f8cbfddeb80","commandName":"messageBox","packageName":"MessageBox","disabled":true,"attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","expression":"Patient FHIR ID is $sPatientID$"}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":false}}]}],"variables":[{"name":"prompt-assignment","description":"A variable you can use for assignments","type":"STRING","subtype":"UNDEFINED","readOnly":false,"input":false,"output":false},{"name":"sFilePathPEM","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":"C:\\Users\\Vincent.Ippolito\\OneDrive - Automation Anywhere Software Private Limited\\Documents\\Healthcare\\Epic Bot\\New Credentials\\privatekey.pem"}},{"name":"sISS","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":"778d0c5e-9e3a-4be4-8223-bf3e1171792b"}},{"name":"sSub","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":"778d0c5e-9e3a-4be4-8223-bf3e1171792b"}},{"name":"sAud","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":"https://fhir.epic.com/interconnect-fhir-oauth/oauth2/token"}},{"name":"sJWT","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"sAccessToken","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"sDerrickLinJSON","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"accessToken","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"sLastName","description":"","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":"Lin"}},{"name":"sFirstName","description":"","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":"Derrick"}},{"name":"sDateOfBirth","description":"","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":"1973-06-03"}},{"name":"sErrorCode","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}},{"name":"sPatientID","description":"","type":"STRING","readOnly":false,"input":false,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"sPatientJSON","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"sPatientMRN","description":"","type":"STRING","readOnly":false,"input":false,"output":true,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}},{"name":"sAddressLine","description":"","type":"STRING","readOnly":false,"input":false,"output":true,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}},{"name":"sAddressCity","description":"","type":"STRING","readOnly":false,"input":false,"output":true,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}},{"name":"sAddressState","description":"","type":"STRING","readOnly":false,"input":false,"output":true,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}},{"name":"sAddressPostalCode","description":"","type":"STRING","readOnly":false,"input":false,"output":true,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}},{"name":"sPhoneNumber","description":"","type":"STRING","readOnly":false,"input":false,"output":true,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}},{"name":"sGeneralPractitioner","description":"","type":"STRING","readOnly":false,"input":false,"output":true,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}},{"name":"sManagingOrganization","description":"","type":"STRING","readOnly":false,"input":false,"output":true,"subtype":"UNDEFINED","defaultValue":{"type":"STRING","string":""}}],"breakpoints":[],"packages":[{"name":"EPIC","version":"2.0.5-20210516-115521"},{"name":"JSONHandler","version":"1.2-20200521-104916"},{"name":"MessageBox","version":"3.0.0-20210722-144335"},{"name":"Rest","version":"3.5.0-20210722-144731"}],"migrationJournalReviewIds":[],"workItemTemplateName":null,"properties":{"botCodeVersion":"2","improvedNumberSupport":true,"timeout":"0s","automationPriority":"PRIORITY_MEDIUM"}}